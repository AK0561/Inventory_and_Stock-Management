{"ast":null,"code":"var _jsxFileName = \"/Users/arnav/Desktop/pinvent-app/frontend/src/components/product/productDetail/ProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport useRedirectLoggedOutUser from \"../../../customHook/useRedirectLoggedOutUser\";\nimport { selectIsLoggedIn } from \"../../../redux/features/auth/authSlice\";\nimport { getProduct } from \"../../../redux/features/product/productSlice\";\nimport Card from \"../../card/Card\";\nimport { SpinnerImg } from \"../../loader/Loader\";\nimport \"./ProductDetail.scss\";\nimport DOMPurify from \"dompurify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductDetail = () => {\n  _s();\n\n  useRedirectLoggedOutUser(\"/login\");\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const {\n    product,\n    isLoading,\n    isError,\n    message\n  } = useSelector(state => state.product);\n\n  const stockStatus = quantity => {\n    if (quantity > 0) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"--color-success\",\n        children: \"In Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"--color-danger\",\n      children: \"Out Of Stock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  };\n\n  useEffect(() => {\n    if (isLoggedIn === true) {\n      dispatch(getProduct(id));\n    }\n\n    if (isError) {\n      console.log(message);\n    }\n  }, [isLoggedIn, isError, message, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-detail\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"--mt\",\n      children: \"Product Detail\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      cardClass: \"card\",\n      children: [isLoading && /*#__PURE__*/_jsxDEV(SpinnerImg, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 23\n      }, this), product && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          cardClass: \"group\",\n          children: product !== null && product !== void 0 && product.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image.filePath,\n            alt: product.image.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No image set for this product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Product Availability: \", stockStatus(product.quantity)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge\",\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), \" \\xA0 \", product.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u2192 SKU : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), \" \", product.sku]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u2192 Category : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), \" \", product.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u2192 Price : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), \" \", \"Rs.\", product.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u2192 Quantity in stock : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), \" \", product.quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u2192 Total Value in stock : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), \" \", \"Rs.\", product.price * product.quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: DOMPurify.sanitize(product.description)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n          className: \"--color-dark\",\n          children: [\"Created on: \", product.createdAt.toLocaleString(\"en-US\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n          className: \"--color-dark\",\n          children: [\"Last Updated: \", product.updatedAt.toLocaleString(\"en-US\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductDetail, \"e5T9ckQrvUTdP1r6Kc+j1Pc5K3o=\", false, function () {\n  return [useRedirectLoggedOutUser, useDispatch, useParams, useSelector, useSelector];\n});\n\n_c = ProductDetail;\nexport default ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","useRedirectLoggedOutUser","selectIsLoggedIn","getProduct","Card","SpinnerImg","DOMPurify","ProductDetail","dispatch","id","isLoggedIn","product","isLoading","isError","message","state","stockStatus","quantity","console","log","image","filePath","fileName","name","sku","category","price","__html","sanitize","description","createdAt","toLocaleString","updatedAt"],"sources":["/Users/arnav/Desktop/pinvent-app/frontend/src/components/product/productDetail/ProductDetail.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport useRedirectLoggedOutUser from \"../../../customHook/useRedirectLoggedOutUser\";\nimport { selectIsLoggedIn } from \"../../../redux/features/auth/authSlice\";\nimport { getProduct } from \"../../../redux/features/product/productSlice\";\nimport Card from \"../../card/Card\";\nimport { SpinnerImg } from \"../../loader/Loader\";\nimport \"./ProductDetail.scss\";\nimport DOMPurify from \"dompurify\";\n\nconst ProductDetail = () => {\n  useRedirectLoggedOutUser(\"/login\");\n  const dispatch = useDispatch();\n\n  const { id } = useParams();\n\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const { product, isLoading, isError, message } = useSelector(\n    (state) => state.product\n  );\n\n  const stockStatus = (quantity) => {\n    if (quantity > 0) {\n      return <span className=\"--color-success\">In Stock</span>;\n    }\n    return <span className=\"--color-danger\">Out Of Stock</span>;\n  };\n\n  useEffect(() => {\n    if (isLoggedIn === true) {\n      dispatch(getProduct(id));\n    }\n\n    if (isError) {\n      console.log(message);\n    }\n  }, [isLoggedIn, isError, message, dispatch]);\n\n  return (\n    <div className=\"product-detail\">\n      <h3 className=\"--mt\">Product Detail</h3>\n      <Card cardClass=\"card\">\n        {isLoading && <SpinnerImg />}\n        {product && (\n          <div className=\"detail\">\n            <Card cardClass=\"group\">\n              {product?.image ? (\n                <img\n                  src={product.image.filePath}\n                  alt={product.image.fileName}\n                />\n              ) : (\n                <p>No image set for this product</p>\n              )}\n            </Card>\n            <h4>Product Availability: {stockStatus(product.quantity)}</h4>\n            <hr />\n            <h4>\n              <span className=\"badge\">Name: </span> &nbsp; {product.name}\n            </h4>\n            <p>\n              <b>&rarr; SKU : </b> {product.sku}\n            </p>\n            <p>\n              <b>&rarr; Category : </b> {product.category}\n            </p>\n            <p>\n              <b>&rarr; Price : </b> {\"Rs.\"}\n              {product.price}\n            </p>\n            <p>\n              <b>&rarr; Quantity in stock : </b> {product.quantity}\n            </p>\n            <p>\n              <b>&rarr; Total Value in stock : </b> {\"Rs.\"}\n              {product.price * product.quantity}\n            </p>\n            <hr />\n            <div\n              dangerouslySetInnerHTML={{\n                __html: DOMPurify.sanitize(product.description),\n              }}\n            ></div>\n            <hr />\n            <code className=\"--color-dark\">\n              Created on: {product.createdAt.toLocaleString(\"en-US\")}\n            </code>\n            <br />\n            <code className=\"--color-dark\">\n              Last Updated: {product.updatedAt.toLocaleString(\"en-US\")}\n            </code>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}