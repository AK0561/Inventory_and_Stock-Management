{"ast":null,"code":"var _jsxFileName = \"/Users/arnav/Desktop/pinvent-app/frontend/src/pages/addProduct/AddProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport Loader from \"../../components/loader/Loader\";\nimport ProductForm from \"../../components/product/productForm/ProductForm\";\nimport { createProduct, selectIsLoading } from \"../../redux/features/product/productSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  category: \"\",\n  quantity: \"\",\n  price: \"\"\n};\n\nconst AddProduct = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(initialState);\n  const [productImage, setProductImage] = useState(\"\");\n  const [imagePreview, setImagePreview] = useState(null);\n  const [description, setDescription] = useState(\"\");\n  const isLoading = useSelector(selectIsLoading);\n  const {\n    name,\n    category,\n    price,\n    quantity\n  } = product;\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct({ ...product,\n      [name]: value\n    });\n  };\n\n  const handleImageChange = e => {\n    setProductImage(e.target.files[0]);\n    setImagePreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const generateKSKU = category => {\n    const letter = category.slice(0, 3).toUpperCase();\n    const number = Date.now();\n    const sku = letter + \"-\" + number;\n    return sku;\n  };\n\n  const saveProduct = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"sku\", generateKSKU(category));\n    formData.append(\"category\", category);\n    formData.append(\"quantity\", Number(quantity));\n    formData.append(\"price\", price);\n    formData.append(\"description\", description);\n    formData.append(\"image\", productImage);\n    console.log(...formData);\n    await dispatch(createProduct(formData));\n    navigate(\"/dashboard\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"--mt\",\n      children: \"Add New Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductForm, {\n      product: product,\n      productImage: productImage,\n      imagePreview: imagePreview,\n      description: description,\n      setDescription: setDescription,\n      handleInputChange: handleInputChange,\n      handleImageChange: handleImageChange,\n      saveProduct: saveProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddProduct, \"3S0Ym9ijrtCo/ZE6Mvo3CoMTwDw=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useNavigate","Loader","ProductForm","createProduct","selectIsLoading","initialState","name","category","quantity","price","AddProduct","dispatch","navigate","product","setProduct","productImage","setProductImage","imagePreview","setImagePreview","description","setDescription","isLoading","handleInputChange","e","value","target","handleImageChange","files","URL","createObjectURL","generateKSKU","letter","slice","toUpperCase","number","Date","now","sku","saveProduct","preventDefault","formData","FormData","append","Number","console","log"],"sources":["/Users/arnav/Desktop/pinvent-app/frontend/src/pages/addProduct/AddProduct.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport Loader from \"../../components/loader/Loader\";\nimport ProductForm from \"../../components/product/productForm/ProductForm\";\nimport {\n  createProduct,\n  selectIsLoading,\n} from \"../../redux/features/product/productSlice\";\n\nconst initialState = {\n  name: \"\",\n  category: \"\",\n  quantity: \"\",\n  price: \"\",\n};\n\nconst AddProduct = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(initialState);\n  const [productImage, setProductImage] = useState(\"\");\n  const [imagePreview, setImagePreview] = useState(null);\n  const [description, setDescription] = useState(\"\");\n\n  const isLoading = useSelector(selectIsLoading);\n\n  const { name, category, price, quantity } = product;\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setProduct({ ...product, [name]: value });\n  };\n\n  const handleImageChange = (e) => {\n    setProductImage(e.target.files[0]);\n    setImagePreview(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const generateKSKU = (category) => {\n    const letter = category.slice(0, 3).toUpperCase();\n    const number = Date.now();\n    const sku = letter + \"-\" + number;\n    return sku;\n  };\n\n  const saveProduct = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"sku\", generateKSKU(category));\n    formData.append(\"category\", category);\n    formData.append(\"quantity\", Number(quantity));\n    formData.append(\"price\", price);\n    formData.append(\"description\", description);\n    formData.append(\"image\", productImage);\n\n    console.log(...formData);\n\n    await dispatch(createProduct(formData));\n\n    navigate(\"/dashboard\");\n  };\n\n  return (\n    <div>\n      {isLoading && <Loader />}\n      <h3 className=\"--mt\">Add New Product</h3>\n      <ProductForm\n        product={product}\n        productImage={productImage}\n        imagePreview={imagePreview}\n        description={description}\n        setDescription={setDescription}\n        handleInputChange={handleInputChange}\n        handleImageChange={handleImageChange}\n        saveProduct={saveProduct}\n      />\n    </div>\n  );\n};\n\nexport default AddProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}